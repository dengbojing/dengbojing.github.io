<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"dengbojing.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"always","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"manual"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="JVM 基础学习">
<meta property="og:type" content="article">
<meta property="og:title" content="JVM-学习">
<meta property="og:url" content="http://dengbojing.com/2021/11/25/JVM-%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="生活不易,砥砺前行">
<meta property="og:description" content="JVM 基础学习">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-11-25T06:05:51.000Z">
<meta property="article:modified_time" content="2023-01-22T15:37:18.298Z">
<meta property="article:author" content="Dengbojing">
<meta property="article:tag" content="java">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://dengbojing.com/2021/11/25/JVM-%E5%AD%A6%E4%B9%A0/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>JVM-学习 | 生活不易,砥砺前行</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-156288627-1"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-156288627-1');
      }
    </script>


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?4cafee18f10a04bf0eed864b0bd7f623";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="生活不易,砥砺前行" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta custom-logo">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">生活不易,砥砺前行</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Keep farmed and carry hard</p>
      <a>
        <img class="custom-logo-image" src="/back.png" alt="生活不易,砥砺前行">
      </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">17</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">3</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">24</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://dengbojing.com/2021/11/25/JVM-%E5%AD%A6%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/avatar.jpg">
      <meta itemprop="name" content="Dengbojing">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="生活不易,砥砺前行">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          JVM-学习
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-11-25 14:05:51" itemprop="dateCreated datePublished" datetime="2021-11-25T14:05:51+08:00">2021-11-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-01-22 23:37:18" itemprop="dateModified" datetime="2023-01-22T23:37:18+08:00">2023-01-22</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>JVM 基础学习</p>
<span id="more"></span>

<h1 id="ClassLoader-SubSystem："><a href="#ClassLoader-SubSystem：" class="headerlink" title="ClassLoader SubSystem："></a><code>ClassLoader SubSystem</code>：</h1><ol>
<li>类加载</li>
<li>类链接(验证,准备,解析)</li>
<li>初始化</li>
</ol>
<h2 id="加载"><a href="#加载" class="headerlink" title="加载"></a>加载</h2><p>加载就是读取class文件,并在方法区存储对应的二进制数据,每一个class文件<code>jvm</code>会存储以下信息至方法区：</p>
<ol>
<li>类(接口,枚举)的全限定名称</li>
<li>该类(接口,枚举)的直接父类的全限定名称</li>
<li>class文件是否关联一个类(接口,枚举)</li>
<li>修饰符信息</li>
<li>局部变量,成员变量信息</li>
<li>方法信息</li>
<li>常量池信息等等</li>
</ol>
<p>在加载class文件之后,jvm会立即创建一个代表该类的Class对象,以表示堆内存上的类级别的二进制信息.<br>每一个class文件加载之后只会创建一个代表该类的Class对象,无论你该类你在程序中使用多少次(创建多少次)</p>
<h2 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h2><ol>
<li>验证</li>
</ol>
<p>检查类的Class对象的二进制表示是否正确(静态约束和结构化约束),检查class文件是否符合规范,编译版本是否兼容.如果确认文件无误,可以使用jvm参数关闭验证.  </p>
<ol start="2">
<li>准备</li>
</ol>
<p><code>jvm</code>分配静态变量内存空间(变量定义在方法区上,变量的值如果是引用类型则在堆空间,如果是原始类型直接分配在方法区上,值分配在初始化时候),并为静态变量(static)赋默认值(不是初始值,初始值在初始化阶段赋值),如果是类常量(final static)直接赋初始值</p>
<ol start="3">
<li>解析</li>
</ol>
<p>将符号引用替换为直接引用(只会执行一次,这一步是可选的直到符号引用被使用).<br>符号引用：一组String字符串能唯一定位到所引用的类,变量或者方法.(当一个类编译完成,所有的方法引用,变量引用等等都是以符号引用保存在常量池中).<br>直接引用：直接指向目标的指针,相对偏移量(java做法),一个能定位到目标地址的句柄.</p>
<h2 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h2><p>这个阶段所有的静态变量会被赋初始值,所有的静态代码块被执行(从上到下,从父类到子类),符合以下任意条件会初始化类：  </p>
<ol>
<li>new 一个该对象</li>
<li>访问(读取或者设置)该类的静态字段或者调用该类的静态方法</li>
<li>反射</li>
<li>初始化类,会先初始化父类</li>
<li><code>main</code>方法主类,<code>jvm</code>会优先初始化</li>
</ol>
<h1 id="ClassLoader类型"><a href="#ClassLoader类型" class="headerlink" title="ClassLoader类型"></a><code>ClassLoader</code>类型</h1><ol>
<li>BootstrapClassLoader<br>  用c++实现,负责加载jdk-&gt;jre-&gt;lib-&gt;*.jar</li>
<li>ExtensionClassLoader<br>  由sun.misc.Launcher$ExtClassLoader类实现,负责加载jdk-&gt;jre-&gt;lib-&gt;ext-&gt;*.class</li>
<li>ApplicationClassLoader<br>  由sun.misc.Louncher$AppClassLoader实现,负责加载用户程序的类库(classpath下)</li>
</ol>
<p><code>CLassLoader</code> 使用双亲委派机制(delegation hierarchy principle):  当<code>jvm</code>遇到一个类,会先从方法区寻找该类的二进制表示,如果未找到如,则<code>ClassLoader SubSystem</code>会请求<code>Application ClassLoader</code>来加载这个这个类,<code>ApplicationClassLoader</code>会委托给<code>ExtensionClassLoader</code>加载,<code>ExtensionClassLoader</code>会委托给<code>BootstrapClassLoader</code>加载,当父加载器如果无法加载则会在委托给子的加载器加载.<br><strong>ps: 这里的<code>父子</code>并不具有继承关系,只是上层加载器的引用.</strong>  </p>
<h1 id="运行时数据区域-Run-Time-Data-Areas"><a href="#运行时数据区域-Run-Time-Data-Areas" class="headerlink" title="运行时数据区域(Run-Time Data Areas)"></a>运行时数据区域(Run-Time Data Areas)</h1><h2 id="Method-area"><a href="#Method-area" class="headerlink" title="Method area"></a><code>Method area</code></h2><p>方法区: AKA永久代(1.8之前),AKA MetaSpace(1.8之后);<br><code>jvm</code>规范说方法区是逻辑上属于堆空间,可以是非连续性的,可以不需要垃圾回收机制,1.7方法区的实现是堆上的永久代,1.8之后方法区的实现变成了直接在本地内存上分配的元空间(MetaSpace,存储Class类的元数据)<br>在<code>jvm</code>启动时候就创建,全局共享,它存储每个类的结构,运行时常量池,字段和方法数据,构造函数,包含特殊的初始化方法.<br><strong>如果方法区中的内存无法满足分配请求,Java 虚拟机将抛出 <code>OutOfMemoryError</code>.</strong></p>
<h2 id="heap"><a href="#heap" class="headerlink" title="heap"></a><code>heap</code></h2><p>堆: 在<code>jvm</code>启动时候创建,全局共享,堆是运行时数据区,从中分配所有类实例和数组的内存;垃圾回收机制主要是针对该区域回收.<br>1.7: 新生代,老年代,永久代.<br>1.8：新生代,老年代.<br><strong>如果对象需要分配的内存比可回收的内存多,则抛出<code>OutOfMemoryError.</code></strong>   </p>
<h2 id="stack"><a href="#stack" class="headerlink" title="stack"></a><code>stack</code></h2><p>栈：每一个线程都有一个私有的栈,在线程创建时候被创建,栈里面存储着<code>frame</code>(stack frame),<code>frame</code>保存局部变量和部分结果(方法调用过程中产生),参与方法得调用和结果得返回.当一个方法被调用时候<code>frame</code>就会被创建,jvm对栈只有两个操作,psuh and pop<br><strong>如果线程需要得栈空间大于虚拟机所允许的大小,则抛出<code>StackOverflowError</code>.</strong><br><strong>如果栈可以动态扩展,而扩展没有足够的内存空间,或者初始化一个新的线程栈时候没有足够的空间,则会抛出<code>OutOfMemoryError</code>.</strong></p>
<h2 id="Run-time-Constant-pool"><a href="#Run-time-Constant-pool" class="headerlink" title="Run-time Constant pool"></a><code>Run-time Constant pool</code></h2><p>运行时常量池：每个类或者接口一个,分配在方法区上.<br>包含<br>  1.类,接口,方法,动态计算(lambda表达式)的符号引用–基本上等于对应类,接口,方法的全限定名称,但是会多出来一些额外的东西,虚拟机使用这些符号引用找到对应依赖的类.<br>  2.类常量(final static)</p>
<p><strong>如果创建类或者接口的运行时常量池需要的内存大于虚拟机可以使用的内存,则抛出<code>OutOfMemoryError</code>.</strong>    </p>
<h1 id="Frame"><a href="#Frame" class="headerlink" title="Frame"></a>Frame</h1><p><code>stack frame</code>用于存储局部变量和中间结果以及执行动态链接,方法返回结果,抛出异常.以下简称<code>frame</code><br>当一个方法被调用时会创建一个新的<code>frame</code>,当方法调用结束时候(无论正常结束还是异常结束),<code>frame</code>会被销毁.<br>在任何时候一个线程只会有一个<code>frame</code>被执行,被称作<code>current frame</code>,对应的是当前正在执行的方法.<br>当一个<code>frame</code>执行时候遇见调用另一个方法,会创建一个对应方法的<code>new frame</code>,<code>new frame</code>将成<code>current frame</code>,然后等待新的方法执行完成,<code>new frame</code>返回结果至之前的<code>frame</code>,然后之前的<code>fram</code>再次成为<code>current frame</code>并且丢弃<code>new frame</code>.  </p>
<p><code>frame</code>分为3个部分,局部变量数组,操作对象栈,帧数据</p>
<h2 id="local-variables"><a href="#local-variables" class="headerlink" title="local variables"></a>local variables</h2><p>每一个<code>frame</code>中包含一个局部变量数组,数组的长度由编译期间方法内的代码确定,存储在<code>class</code>文件二进制的表示信息中(方法区中).<br>每个数组的槽站4个字节,其中<code>int float reference</code>占用数组的一个槽位,<code>long double</code>类型占用2个槽位,<code>byte char short</code>将会转会为<code>int</code>类型占用一个槽位,<code>boolean</code>类型占用的槽位不同虚拟机实现不同,大部分情况占用1个槽位.   </p>
<h2 id="operand-stack"><a href="#operand-stack" class="headerlink" title="operand stack"></a>operand stack</h2><p>操作栈,也是一个栈类型的数据结构,先进后出; 作用是<code>stack</code>的工作空间<code>work space</code>, <code>jvm</code>指令从局部变量数组中获取数据push至操作栈,或者从操作栈中pop数据进行操作,然后在push结果到操作栈, </p>
<h2 id="dynamic-link"><a href="#dynamic-link" class="headerlink" title="dynamic link"></a>dynamic link</h2><p>每个<code>frame</code>都包含一个指向运行时常量池中该<code>frame</code>所属方法的引用,持有这个引用是为了支持方法调用过程中的动态链接.<br>在类加载阶段中的解析阶段会将符号引用转为直接引用,这种转化也称为静态解析.另外的一部分将在运行时转化为直接引用,这部分称为动态链接.  </p>
<h1 id="Class-文件结构"><a href="#Class-文件结构" class="headerlink" title="Class 文件结构"></a>Class 文件结构</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">ClassFile &#123;</span><br><span class="line">    u4             magic; <span class="comment">//魔法数,固定的,0xCAFEBABE</span></span><br><span class="line">    u2             minor_version;  <span class="comment">//编译次版本,向下兼容</span></span><br><span class="line">    u2             major_version;  <span class="comment">//编译主版本, 向下兼容</span></span><br><span class="line">    u2             constant_pool_count; <span class="comment">//常量池长度</span></span><br><span class="line">    cp_info        constant_pool[constant_pool_count-<span class="number">1</span>]; <span class="comment">//静态常量池,运行时生成动态常量池,下标从1开始</span></span><br><span class="line">    u2             access_flags; <span class="comment">//访问权限</span></span><br><span class="line">    u2             this_class; <span class="comment">//常量池中的该类的引用的索引</span></span><br><span class="line">    u2             super_class; <span class="comment">//0或者是常量池中的一个索引,如果是0表示是`Object`类,如果是索引表示父类在常量池中的索引</span></span><br><span class="line">    u2             interfaces_count; <span class="comment">//实现接口的数量</span></span><br><span class="line">    u2             interfaces[interfaces_count];<span class="comment">//接口数组</span></span><br><span class="line">    u2             fields_count; <span class="comment">//总共字段的数量(类变量,成员变量)</span></span><br><span class="line">    field_info     fields[fields_count];<span class="comment">//字段数组</span></span><br><span class="line">    u2             methods_count; <span class="comment">//方法数量</span></span><br><span class="line">    method_info    methods[methods_count];<span class="comment">//方法数组</span></span><br><span class="line">    u2             attributes_count; <span class="comment">//属性数量</span></span><br><span class="line">    attribute_info attributes[attributes_count]; <span class="comment">//属性数组,比较复杂</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其中u代表字节,u1一个字节,u2两个字节<br>分析示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestClass</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;fffff&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span><span class="string">&quot;xxxxxx&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;fdasg&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1000001</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> j;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Thread thread;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String...args)</span>&#123;</span><br><span class="line">        <span class="type">TestClass</span> <span class="variable">tc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TestClass</span>();</span><br><span class="line">        tc.start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">iiii</span> <span class="operator">=</span> <span class="number">135</span>;</span><br><span class="line">        thread = <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">jjjj</span> <span class="operator">=</span> iiii;</span><br><span class="line">            System.out.println(s1);</span><br><span class="line">            System.out.println(++jjjj);</span><br><span class="line">        &#125;);</span><br><span class="line">        thread.start();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestClass</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;fffff&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span><span class="string">&quot;xxxxxx&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;fdasg&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1000001</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> j;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Thread thread;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String...args)</span>&#123;</span><br><span class="line">        <span class="type">TestClass</span> <span class="variable">tc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TestClass</span>();</span><br><span class="line">        tc.start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span>&#123;</span><br><span class="line">        thread = <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; System.out.println(s1));</span><br><span class="line">        thread.start();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>编译之后的运行时常量池<br><strong>这里Constant的意思不是指存储的是常量，而是说是不变的东西，也就是说类的方法，字段名称，字段的值都是编译期间可以知道的，所以这些东西是不变的,这些存储是以静态<code>constant_pool</code>存储(class文件的<code>constant_pool</code>),当jvm启动时候就会将静态的<code>constant_pool</code>转换为<code>runtime constant_pool</code>.</strong>  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br></pre></td><td class="code"><pre><span class="line">&gt; javap -v TestClass.class</span><br><span class="line"> Constant pool:</span><br><span class="line">    #1 = Methodref          #21.#53       // java/lang/Object.&quot;&lt;init&gt;&quot;:()V</span><br><span class="line">    #2 = String             #54           // fffff</span><br><span class="line">    #3 = Fieldref           #8.#55        // com/interact/jugg/TestClass.s:Ljava/lang/String;</span><br><span class="line">    #4 = String             #56           // fdasg</span><br><span class="line">    #5 = Fieldref           #8.#57        // com/interact/jugg/TestClass.s1:Ljava/lang/String;</span><br><span class="line">    #6 = Integer            1000001</span><br><span class="line">    #7 = Fieldref           #8.#58        // com/interact/jugg/TestClass.i:I</span><br><span class="line">    #8 = Class              #59           // com/interact/jugg/TestClass</span><br><span class="line">    #9 = Methodref          #8.#53        // com/interact/jugg/TestClass.&quot;&lt;init&gt;&quot;:()V</span><br><span class="line">   #10 = Methodref          #8.#60        // com/interact/jugg/TestClass.start:()V</span><br><span class="line">   #11 = Class              #61           // java/lang/Thread</span><br><span class="line">   #12 = InvokeDynamic      #0:#66        // #0:run:(Lcom/interact/jugg/TestClass;I)Ljava/lang/Runnable;</span><br><span class="line">   #13 = Methodref          #11.#67       // java/lang/Thread.&quot;&lt;init&gt;&quot;:(Ljava/lang/Runnable;)V</span><br><span class="line">   #14 = Fieldref           #8.#68        // com/interact/jugg/TestClass.thread:Ljava/lang/Thread;</span><br><span class="line">   #15 = Methodref          #11.#60       // java/lang/Thread.start:()V</span><br><span class="line">   #16 = Fieldref           #69.#70       // java/lang/System.out:Ljava/io/PrintStream;</span><br><span class="line">   #17 = Methodref          #71.#72       // java/io/PrintStream.println:(Ljava/lang/String;)V</span><br><span class="line">   #18 = Methodref          #71.#73       // java/io/PrintStream.println:(I)V</span><br><span class="line">   #19 = String             #74           // xxxxxx</span><br><span class="line">   #20 = Fieldref           #8.#75        // com/interact/jugg/TestClass.s2:Ljava/lang/String;</span><br><span class="line">   #21 = Class              #76           // java/lang/Object</span><br><span class="line">   #22 = Utf8               s</span><br><span class="line">   #23 = Utf8               Ljava/lang/String;</span><br><span class="line">   #24 = Utf8               s2</span><br><span class="line">   #25 = Utf8               s1</span><br><span class="line">   #26 = Utf8               ConstantValue</span><br><span class="line">   #27 = Utf8               i</span><br><span class="line">   #28 = Utf8               I</span><br><span class="line">   #29 = Utf8               j</span><br><span class="line">   #30 = Utf8               thread</span><br><span class="line">   #31 = Utf8               Ljava/lang/Thread;</span><br><span class="line">   #32 = Utf8               &lt;init&gt;</span><br><span class="line">   #33 = Utf8               ()V</span><br><span class="line">   #34 = Utf8               Code</span><br><span class="line">   #35 = Utf8               LineNumberTable</span><br><span class="line">   #36 = Utf8               LocalVariableTable</span><br><span class="line">   #37 = Utf8               this</span><br><span class="line">   #38 = Utf8               Lcom/interact/jugg/TestClass;</span><br><span class="line">   #39 = Utf8               main</span><br><span class="line">   #40 = Utf8               ([Ljava/lang/String;)V</span><br><span class="line">   #41 = Utf8               args</span><br><span class="line">   #42 = Utf8               [Ljava/lang/String;</span><br><span class="line">   #43 = Utf8               tc</span><br><span class="line">   #44 = Utf8               MethodParameters</span><br><span class="line">   #45 = Utf8               start</span><br><span class="line">   #46 = Utf8               iiii</span><br><span class="line">   #47 = Utf8               lambda$start$0</span><br><span class="line">   #48 = Utf8               (I)V</span><br><span class="line">   #49 = Utf8               jjjj</span><br><span class="line">   #50 = Utf8               &lt;clinit&gt;</span><br><span class="line">   #51 = Utf8               SourceFile</span><br><span class="line">   #52 = Utf8               TestClass.java</span><br><span class="line">   #53 = NameAndType        #32:#33       // &quot;&lt;init&gt;&quot;:()V</span><br><span class="line">   #54 = Utf8               fffff</span><br><span class="line">   #55 = NameAndType        #22:#23       // s:Ljava/lang/String;</span><br><span class="line">   #56 = Utf8               fdasg</span><br><span class="line">   #57 = NameAndType        #25:#23       // s1:Ljava/lang/String;</span><br><span class="line">   #58 = NameAndType        #27:#28       // i:I</span><br><span class="line">   #59 = Utf8               com/interact/jugg/TestClass</span><br><span class="line">   #60 = NameAndType        #45:#33       // start:()V</span><br><span class="line">   #61 = Utf8               java/lang/Thread</span><br><span class="line">   #62 = Utf8               BootstrapMethods</span><br><span class="line">   #63 = MethodHandle       6:#77         // REF_invokeStatic java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;</span><br><span class="line">   #64 = MethodType         #33           //  ()V</span><br><span class="line">   #65 = MethodHandle       7:#78         // REF_invokeSpecial com/interact/jugg/TestClass.lambda$start$0:(I)V</span><br><span class="line">   #66 = NameAndType        #79:#80       // run:(Lcom/interact/jugg/TestClass;I)Ljava/lang/Runnable;</span><br><span class="line">   #67 = NameAndType        #32:#81       // &quot;&lt;init&gt;&quot;:(Ljava/lang/Runnable;)V</span><br><span class="line">   #68 = NameAndType        #30:#31       // thread:Ljava/lang/Thread;</span><br><span class="line">   #69 = Class              #82           // java/lang/System</span><br><span class="line">   #70 = NameAndType        #83:#84       // out:Ljava/io/PrintStream;</span><br><span class="line">   #71 = Class              #85           // java/io/PrintStream</span><br><span class="line">   #72 = NameAndType        #86:#87       // println:(Ljava/lang/String;)V</span><br><span class="line">   #73 = NameAndType        #86:#48       // println:(I)V</span><br><span class="line">   #74 = Utf8               xxxxxx</span><br><span class="line">   #75 = NameAndType        #24:#23       // s2:Ljava/lang/String;</span><br><span class="line">   #76 = Utf8               java/lang/Object</span><br><span class="line">   #77 = Methodref          #88.#89       // java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;</span><br><span class="line">   #78 = Methodref          #8.#90        // com/interact/jugg/TestClass.lambda$start$0:(I)V</span><br><span class="line">   #79 = Utf8               run</span><br><span class="line">   #80 = Utf8               (Lcom/interact/jugg/TestClass;I)Ljava/lang/Runnable;</span><br><span class="line">   #81 = Utf8               (Ljava/lang/Runnable;)V</span><br><span class="line">   #82 = Utf8               java/lang/System</span><br><span class="line">   #83 = Utf8               out</span><br><span class="line">   #84 = Utf8               Ljava/io/PrintStream;</span><br><span class="line">   #85 = Utf8               java/io/PrintStream</span><br><span class="line">   #86 = Utf8               println</span><br><span class="line">   #87 = Utf8               (Ljava/lang/String;)V</span><br><span class="line">   #88 = Class              #91           // java/lang/invoke/LambdaMetafactory</span><br><span class="line">   #89 = NameAndType        #92:#96       // metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;</span><br><span class="line">   #90 = NameAndType        #47:#48       // lambda$start$0:(I)V</span><br><span class="line">   #91 = Utf8               java/lang/invoke/LambdaMetafactory</span><br><span class="line">   #92 = Utf8               metafactory</span><br><span class="line">   #93 = Class              #98           // java/lang/invoke/MethodHandles$Lookup</span><br><span class="line">   #94 = Utf8               Lookup</span><br><span class="line">   #95 = Utf8               InnerClasses</span><br><span class="line">   #96 = Utf8               (Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;</span><br><span class="line">   #97 = Class              #99           // java/lang/invoke/MethodHandles</span><br><span class="line">   #98 = Utf8               java/lang/invoke/MethodHandles$Lookup</span><br><span class="line">   #99 = Utf8               java/lang/invoke/MethodHandles</span><br><span class="line">&#123;</span><br><span class="line">  public java.lang.Thread thread;</span><br><span class="line">    descriptor: Ljava/lang/Thread;</span><br><span class="line">    flags: (0x0001) ACC_PUBLIC</span><br><span class="line"></span><br><span class="line">  public com.interact.jugg.TestClass();</span><br><span class="line">    descriptor: ()V</span><br><span class="line">    flags: (0x0001) ACC_PUBLIC</span><br><span class="line">    Code:</span><br><span class="line">      stack=2, locals=1, args_size=1</span><br><span class="line">         0: aload_0</span><br><span class="line">         1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V</span><br><span class="line">         4: aload_0</span><br><span class="line">         5: ldc           #2                  // String fffff</span><br><span class="line">         7: putfield      #3                  // Field s:Ljava/lang/String;</span><br><span class="line">        10: aload_0</span><br><span class="line">        11: ldc           #4                  // String fdasg</span><br><span class="line">        13: putfield      #5                  // Field s1:Ljava/lang/String;</span><br><span class="line">        16: aload_0</span><br><span class="line">        17: ldc           #6                  // int 1000001</span><br><span class="line">        19: putfield      #7                  // Field i:I</span><br><span class="line">        22: return</span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line 6: 0</span><br><span class="line">        line 8: 4</span><br><span class="line">        line 12: 10</span><br><span class="line">        line 14: 16</span><br><span class="line">      LocalVariableTable:</span><br><span class="line">        Start  Length  Slot  Name   Signature</span><br><span class="line">            0      23     0  this   Lcom/interact/jugg/TestClass;</span><br><span class="line"></span><br><span class="line">  public static void main(java.lang.String...);</span><br><span class="line">    descriptor: ([Ljava/lang/String;)V</span><br><span class="line">    flags: (0x0089) ACC_PUBLIC, ACC_STATIC, ACC_VARARGS</span><br><span class="line">    Code:</span><br><span class="line">      stack=2, locals=2, args_size=1</span><br><span class="line">         0: new           #8                  // class com/interact/jugg/TestClass</span><br><span class="line">         3: dup</span><br><span class="line">         4: invokespecial #9                  // Method &quot;&lt;init&gt;&quot;:()V</span><br><span class="line">         7: astore_1</span><br><span class="line">         8: aload_1</span><br><span class="line">         9: invokevirtual #10                 // Method start:()V</span><br><span class="line">        12: return</span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line 21: 0</span><br><span class="line">        line 22: 8</span><br><span class="line">        line 23: 12</span><br><span class="line">      LocalVariableTable:</span><br><span class="line">        Start  Length  Slot  Name   Signature</span><br><span class="line">            0      13     0  args   [Ljava/lang/String;</span><br><span class="line">            8       5     1    tc   Lcom/interact/jugg/TestClass;</span><br><span class="line">    MethodParameters:</span><br><span class="line">      Name                           Flags</span><br><span class="line">      args</span><br><span class="line"></span><br><span class="line">  public void start();</span><br><span class="line">    descriptor: ()V</span><br><span class="line">    flags: (0x0001) ACC_PUBLIC</span><br><span class="line">    Code:</span><br><span class="line">      stack=5, locals=2, args_size=1</span><br><span class="line">         0: sipush        135</span><br><span class="line">         3: istore_1</span><br><span class="line">         4: aload_0</span><br><span class="line">         5: new           #11                 // class java/lang/Thread</span><br><span class="line">         8: dup</span><br><span class="line">         9: aload_0</span><br><span class="line">        10: iload_1</span><br><span class="line">        11: invokedynamic #12,  0             // InvokeDynamic #0:run:(Lcom/interact/jugg/TestClass;I)Ljava/lang/Runnable;</span><br><span class="line">        16: invokespecial #13                 // Method java/lang/Thread.&quot;&lt;init&gt;&quot;:(Ljava/lang/Runnable;)V</span><br><span class="line">        19: putfield      #14                 // Field thread:Ljava/lang/Thread;</span><br><span class="line">        22: aload_0</span><br><span class="line">        23: getfield      #14                 // Field thread:Ljava/lang/Thread;</span><br><span class="line">        26: invokevirtual #15                 // Method java/lang/Thread.start:()V</span><br><span class="line">        29: return</span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line 26: 0</span><br><span class="line">        line 27: 4</span><br><span class="line">        line 32: 22</span><br><span class="line">        line 34: 29</span><br><span class="line">      LocalVariableTable:</span><br><span class="line">        Start  Length  Slot  Name   Signature</span><br><span class="line">            0      30     0  this   Lcom/interact/jugg/TestClass;</span><br><span class="line">            4      26     1  iiii   I</span><br><span class="line"></span><br><span class="line">  static &#123;&#125;;</span><br><span class="line">    descriptor: ()V</span><br><span class="line">    flags: (0x0008) ACC_STATIC</span><br><span class="line">    Code:</span><br><span class="line">      stack=1, locals=0, args_size=0</span><br><span class="line">         0: ldc           #19                 // String xxxxxx</span><br><span class="line">         2: putstatic     #20                 // Field s2:Ljava/lang/String;</span><br><span class="line">         5: return</span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line 10: 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>十六进制字节码:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line">TestClass.class</span><br><span class="line">00000000: cafe babe 0000 0037 0064 0a00 1500 3508  .......7.d....5.</span><br><span class="line">00000010: 0036 0900 0800 3708 0038 0900 0800 3903  .6....7..8....9.</span><br><span class="line">00000020: 000f 4241 0900 0800 3a07 003b 0a00 0800  ..BA....:..;....</span><br><span class="line">00000030: 350a 0008 003c 0700 3d12 0000 0042 0a00  5....&lt;..=....B..</span><br><span class="line">00000040: 0b00 4309 0008 0044 0a00 0b00 3c09 0045  ..C....D....&lt;..E</span><br><span class="line">00000050: 0046 0a00 4700 480a 0047 0049 0800 4a09  .F..G.H..G.I..J.</span><br><span class="line">00000060: 0008 004b 0700 4c01 0001 7301 0012 4c6a  ...K..L...s...Lj</span><br><span class="line">00000070: 6176 612f 6c61 6e67 2f53 7472 696e 673b  ava/lang/String;</span><br><span class="line">00000080: 0100 0273 3201 0002 7331 0100 0d43 6f6e  ...s2...s1...Con</span><br><span class="line">00000090: 7374 616e 7456 616c 7565 0100 0169 0100  stantValue...i..</span><br><span class="line">000000a0: 0149 0100 016a 0100 0674 6872 6561 6401  .I...j...thread.</span><br><span class="line">000000b0: 0012 4c6a 6176 612f 6c61 6e67 2f54 6872  ..Ljava/lang/Thr</span><br><span class="line">000000c0: 6561 643b 0100 063c 696e 6974 3e01 0003  ead;...&lt;init&gt;...</span><br><span class="line">000000d0: 2829 5601 0004 436f 6465 0100 0f4c 696e  ()V...Code...Lin</span><br><span class="line">000000e0: 654e 756d 6265 7254 6162 6c65 0100 124c  eNumberTable...L</span><br><span class="line">000000f0: 6f63 616c 5661 7269 6162 6c65 5461 626c  ocalVariableTabl</span><br><span class="line">00000100: 6501 0004 7468 6973 0100 1d4c 636f 6d2f  e...this...Lcom/</span><br><span class="line">00000110: 696e 7465 7261 6374 2f6a 7567 672f 5465  interact/jugg/Te</span><br><span class="line">00000120: 7374 436c 6173 733b 0100 046d 6169 6e01  stClass;...main.</span><br><span class="line">00000130: 0016 285b 4c6a 6176 612f 6c61 6e67 2f53  ..([Ljava/lang/S</span><br><span class="line">00000140: 7472 696e 673b 2956 0100 0461 7267 7301  tring;)V...args.</span><br><span class="line">00000150: 0013 5b4c 6a61 7661 2f6c 616e 672f 5374  ..[Ljava/lang/St</span><br><span class="line">00000160: 7269 6e67 3b01 0002 7463 0100 104d 6574  ring;...tc...Met</span><br><span class="line">00000170: 686f 6450 6172 616d 6574 6572 7301 0005  hodParameters...</span><br><span class="line">00000180: 7374 6172 7401 0004 6969 6969 0100 0e6c  start...iiii...l</span><br><span class="line">00000190: 616d 6264 6124 7374 6172 7424 3001 0004  ambda$start$0...</span><br><span class="line">000001a0: 2849 2956 0100 046a 6a6a 6a01 0008 3c63  (I)V...jjjj...&lt;c</span><br><span class="line">000001b0: 6c69 6e69 743e 0100 0a53 6f75 7263 6546  linit&gt;...SourceF</span><br><span class="line">000001c0: 696c 6501 000e 5465 7374 436c 6173 732e  ile...TestClass.</span><br><span class="line">000001d0: 6a61 7661 0c00 2000 2101 0005 6666 6666  java.. .!...ffff</span><br><span class="line">000001e0: 660c 0016 0017 0100 0566 6461 7367 0c00  f........fdasg..</span><br><span class="line">000001f0: 1900 170c 001b 001c 0100 1b63 6f6d 2f69  ...........com/i</span><br><span class="line">00000200: 6e74 6572 6163 742f 6a75 6767 2f54 6573  nteract/jugg/Tes</span><br><span class="line">00000210: 7443 6c61 7373 0c00 2d00 2101 0010 6a61  tClass..-.!...ja</span><br><span class="line">00000220: 7661 2f6c 616e 672f 5468 7265 6164 0100  va/lang/Thread..</span><br><span class="line">00000230: 1042 6f6f 7473 7472 6170 4d65 7468 6f64  .BootstrapMethod</span><br><span class="line">00000240: 730f 0600 4d10 0021 0f07 004e 0c00 4f00  s...M..!...N..O.</span><br><span class="line">00000250: 500c 0020 0051 0c00 1e00 1f07 0052 0c00  P.. .Q.......R..</span><br><span class="line">00000260: 5300 5407 0055 0c00 5600 570c 0056 0030  S.T..U..V.W..V.0</span><br><span class="line">00000270: 0100 0678 7878 7878 780c 0018 0017 0100  ...xxxxxx.......</span><br><span class="line">00000280: 106a 6176 612f 6c61 6e67 2f4f 626a 6563  .java/lang/Objec</span><br><span class="line">00000290: 740a 0058 0059 0a00 0800 5a01 0003 7275  t..X.Y....Z...ru</span><br><span class="line">000002a0: 6e01 0034 284c 636f 6d2f 696e 7465 7261  n..4(Lcom/intera</span><br><span class="line">000002b0: 6374 2f6a 7567 672f 5465 7374 436c 6173  ct/jugg/TestClas</span><br><span class="line">000002c0: 733b 4929 4c6a 6176 612f 6c61 6e67 2f52  s;I)Ljava/lang/R</span><br><span class="line">000002d0: 756e 6e61 626c 653b 0100 1728 4c6a 6176  unnable;...(Ljav</span><br><span class="line">000002e0: 612f 6c61 6e67 2f52 756e 6e61 626c 653b  a/lang/Runnable;</span><br><span class="line">000002f0: 2956 0100 106a 6176 612f 6c61 6e67 2f53  )V...java/lang/S</span><br><span class="line">00000300: 7973 7465 6d01 0003 6f75 7401 0015 4c6a  ystem...out...Lj</span><br><span class="line">00000310: 6176 612f 696f 2f50 7269 6e74 5374 7265  ava/io/PrintStre</span><br><span class="line">00000320: 616d 3b01 0013 6a61 7661 2f69 6f2f 5072  am;...java/io/Pr</span><br><span class="line">00000330: 696e 7453 7472 6561 6d01 0007 7072 696e  intStream...prin</span><br><span class="line">00000340: 746c 6e01 0015 284c 6a61 7661 2f6c 616e  tln...(Ljava/lan</span><br><span class="line">00000350: 672f 5374 7269 6e67 3b29 5607 005b 0c00  g/String;)V..[..</span><br><span class="line">00000360: 5c00 600c 002f 0030 0100 226a 6176 612f  \.`../.0..&quot;java/</span><br><span class="line">00000370: 6c61 6e67 2f69 6e76 6f6b 652f 4c61 6d62  lang/invoke/Lamb</span><br><span class="line">00000380: 6461 4d65 7461 6661 6374 6f72 7901 000b  daMetafactory...</span><br><span class="line">00000390: 6d65 7461 6661 6374 6f72 7907 0062 0100  metafactory..b..</span><br><span class="line">000003a0: 064c 6f6f 6b75 7001 000c 496e 6e65 7243  .Lookup...InnerC</span><br><span class="line">000003b0: 6c61 7373 6573 0100 cc28 4c6a 6176 612f  lasses...(Ljava/</span><br><span class="line">000003c0: 6c61 6e67 2f69 6e76 6f6b 652f 4d65 7468  lang/invoke/Meth</span><br><span class="line">000003d0: 6f64 4861 6e64 6c65 7324 4c6f 6f6b 7570  odHandles$Lookup</span><br><span class="line">000003e0: 3b4c 6a61 7661 2f6c 616e 672f 5374 7269  ;Ljava/lang/Stri</span><br><span class="line">000003f0: 6e67 3b4c 6a61 7661 2f6c 616e 672f 696e  ng;Ljava/lang/in</span><br><span class="line">00000400: 766f 6b65 2f4d 6574 686f 6454 7970 653b  voke/MethodType;</span><br><span class="line">00000410: 4c6a 6176 612f 6c61 6e67 2f69 6e76 6f6b  Ljava/lang/invok</span><br><span class="line">00000420: 652f 4d65 7468 6f64 5479 7065 3b4c 6a61  e/MethodType;Lja</span><br><span class="line">00000430: 7661 2f6c 616e 672f 696e 766f 6b65 2f4d  va/lang/invoke/M</span><br><span class="line">00000440: 6574 686f 6448 616e 646c 653b 4c6a 6176  ethodHandle;Ljav</span><br><span class="line">00000450: 612f 6c61 6e67 2f69 6e76 6f6b 652f 4d65  a/lang/invoke/Me</span><br><span class="line">00000460: 7468 6f64 5479 7065 3b29 4c6a 6176 612f  thodType;)Ljava/</span><br><span class="line">00000470: 6c61 6e67 2f69 6e76 6f6b 652f 4361 6c6c  lang/invoke/Call</span><br><span class="line">00000480: 5369 7465 3b07 0063 0100 256a 6176 612f  Site;..c..%java/</span><br><span class="line">00000490: 6c61 6e67 2f69 6e76 6f6b 652f 4d65 7468  lang/invoke/Meth</span><br><span class="line">000004a0: 6f64 4861 6e64 6c65 7324 4c6f 6f6b 7570  odHandles$Lookup</span><br><span class="line">000004b0: 0100 1e6a 6176 612f 6c61 6e67 2f69 6e76  ...java/lang/inv</span><br><span class="line">000004c0: 6f6b 652f 4d65 7468 6f64 4861 6e64 6c65  oke/MethodHandle</span><br><span class="line">000004d0: 7300 2100 0800 1500 0000 0600 0200 1600  s.!.............</span><br><span class="line">000004e0: 1700 0000 0a00 1800 1700 0000 1200 1900  ................</span><br><span class="line">000004f0: 1700 0100 1a00 0000 0200 0400 1200 1b00  ................</span><br><span class="line">00000500: 1c00 0100 1a00 0000 0200 0600 0200 1d00  ................</span><br><span class="line">00000510: 1c00 0000 0100 1e00 1f00 0000 0500 0100  ................</span><br><span class="line">00000520: 2000 2100 0100 2200 0000 4d00 0200 0100   .!...&quot;...M.....</span><br><span class="line">00000530: 0000 172a b700 012a 1202 b500 032a 1204  ...*...*.....*..</span><br><span class="line">00000540: b500 052a 1206 b500 07b1 0000 0002 0023  ...*...........#</span><br><span class="line">00000550: 0000 0012 0004 0000 0006 0004 0008 000a  ................</span><br><span class="line">00000560: 000c 0010 000e 0024 0000 000c 0001 0000  .......$........</span><br><span class="line">00000570: 0017 0025 0026 0000 0089 0027 0028 0002  ...%.&amp;.....&#x27;.(..</span><br><span class="line">00000580: 0022 0000 0049 0002 0002 0000 000d bb00  .&quot;...I..........</span><br><span class="line">00000590: 0859 b700 094c 2bb6 000a b100 0000 0200  .Y...L+.........</span><br><span class="line">000005a0: 2300 0000 0e00 0300 0000 1500 0800 1600  #...............</span><br><span class="line">000005b0: 0c00 1700 2400 0000 1600 0200 0000 0d00  ....$...........</span><br><span class="line">000005c0: 2900 2a00 0000 0800 0500 2b00 2600 0100  ).*.......+.&amp;...</span><br><span class="line">000005d0: 2c00 0000 0501 0029 0000 0001 002d 0021  ,......).....-.!</span><br><span class="line">000005e0: 0001 0022 0000 005e 0005 0002 0000 001e  ...&quot;...^........</span><br><span class="line">000005f0: 1100 873c 2abb 000b 592a 1bba 000c 0000  ...&lt;*...Y*......</span><br><span class="line">00000600: b700 0db5 000e 2ab4 000e b600 0fb1 0000  ......*.........</span><br><span class="line">00000610: 0002 0023 0000 0012 0004 0000 001a 0004  ...#............</span><br><span class="line">00000620: 001b 0016 0020 001d 0022 0024 0000 0016  ..... ...&quot;.$....</span><br><span class="line">00000630: 0002 0000 001e 0025 0026 0000 0004 001a  .......%.&amp;......</span><br><span class="line">00000640: 002e 001c 0001 1002 002f 0030 0001 0022  ........./.0...&quot;</span><br><span class="line">00000650: 0000 005f 0002 0003 0000 0015 1b3d b200  ..._.........=..</span><br><span class="line">00000660: 1012 04b6 0011 b200 1084 0201 1cb6 0012  ................</span><br><span class="line">00000670: b100 0000 0200 2300 0000 1200 0400 0000  ......#.........</span><br><span class="line">00000680: 1c00 0200 1d00 0a00 1e00 1400 1f00 2400  ..............$.</span><br><span class="line">00000690: 0000 2000 0300 0000 1500 2500 2600 0000  .. .......%.&amp;...</span><br><span class="line">000006a0: 0000 1500 2e00 1c00 0100 0200 1300 3100  ..............1.</span><br><span class="line">000006b0: 1c00 0200 0800 3200 2100 0100 2200 0000  ......2.!...&quot;...</span><br><span class="line">000006c0: 1e00 0100 0000 0000 0612 13b3 0014 b100  ................</span><br><span class="line">000006d0: 0000 0100 2300 0000 0600 0100 0000 0a00  ....#...........</span><br><span class="line">000006e0: 0300 3300 0000 0200 3400 5f00 0000 0a00  ..3.....4._.....</span><br><span class="line">000006f0: 0100 5d00 6100 5e00 1900 3e00 0000 0c00  ..].a.^...&gt;.....</span><br><span class="line">00000700: 0100 3f00 0300 4000 4100 400a            ..?...@.A.@.</span><br></pre></td></tr></table></figure>
<p>1.cafebabe固定4个字节<br>2.0000 次版本,无<br>3.0037 主版本,对应十进制为55,查找版本对照表,为11,具体规则可以查看<code>jvm</code>规范,无非就是什么版本对应什么数字,哪些版本没有次要版本,做了什么兼容设定<br>4.0064 常量池长度,对应十进制为100,上面常量池示例中正好到序号99.<br>5.0a 对应常量池第一个变量,<code>cp_info</code>具体结构为:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cp_info &#123;</span><br><span class="line">    u1 tag;</span><br><span class="line">    u1 info[];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>所以第一个字符0a对用为10,10对应的<code>cp_info</code>的<code>tag</code>为<code>Method_ref</code>,对应结构如下:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CONSTANT_Methodref_info &#123;</span><br><span class="line">    u1 tag;</span><br><span class="line">    u2 class_index;</span><br><span class="line">    u2 name_and_type_index;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>所以随后的两个字节0015代表着对应的<code>class</code>在常量池中的索引,0015对应的十进制为21,查看上面javap代码可以找到对应#21为<code>java.lang.Object</code>类.<br>在之后的2个字节0035代表着也对应着常量池中的索引，而该索引处的数据结构必须符合<code>CONSTANT_NameAndType_info</code>,0035对应十进制为53,查看上面javap代码,得到#53是一个<code>NameAndType</code>而且按照对应的结构引用了<code>utf_8</code>结构的#32#33,分别为特殊方法<code>&lt;init&gt;</code>以及返回值<code>()v</code>,世界上就是一个初始化方法.<br>上述分析对比一下javap反编代码的常量池#1,符合我们的分析.  </p>
<p><strong>静态常量池中的<code>CONSTANT_NameAndType_info, CONSTANT_Module_info, and CONSTANT_Package_info, and the foundational structure CONSTANT_Utf8_info</code>不会被转换至动态常量池中,这些结构只会在初始化实例时候间接的使用</strong></p>
<h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><p>简单的<code>jvm</code>入门是完成了,虽然看懂了,但是不知道又什么用,参考了很多文章和书籍,<code>jvm</code>规范是最权威的,但是写的略简单,而博客文章又是千篇一律,互相抄,所以最后总结还是看书加动手实践是最好的.  </p>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>Dengbojing
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="http://dengbojing.com/2021/11/25/JVM-%E5%AD%A6%E4%B9%A0/" title="JVM-学习">http://dengbojing.com/2021/11/25/JVM-学习/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/java/" rel="tag"><i class="fa fa-tag"></i> java</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/09/20/Effective-java-%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AB%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="prev" title="Effective-java-第十一章学习笔记">
      <i class="fa fa-chevron-left"></i> Effective-java-第十一章学习笔记
    </a></div>
      <div class="post-nav-item">
    <a href="/2023/01/22/spring-boot-elk/" rel="next" title="spring-boot+elk">
      spring-boot+elk <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#ClassLoader-SubSystem%EF%BC%9A"><span class="nav-number">1.</span> <span class="nav-text">ClassLoader SubSystem：</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8A%A0%E8%BD%BD"><span class="nav-number">1.1.</span> <span class="nav-text">加载</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%93%BE%E6%8E%A5"><span class="nav-number">1.2.</span> <span class="nav-text">链接</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-number">1.3.</span> <span class="nav-text">初始化</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ClassLoader%E7%B1%BB%E5%9E%8B"><span class="nav-number">2.</span> <span class="nav-text">ClassLoader类型</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C%E6%97%B6%E6%95%B0%E6%8D%AE%E5%8C%BA%E5%9F%9F-Run-Time-Data-Areas"><span class="nav-number">3.</span> <span class="nav-text">运行时数据区域(Run-Time Data Areas)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Method-area"><span class="nav-number">3.1.</span> <span class="nav-text">Method area</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#heap"><span class="nav-number">3.2.</span> <span class="nav-text">heap</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#stack"><span class="nav-number">3.3.</span> <span class="nav-text">stack</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Run-time-Constant-pool"><span class="nav-number">3.4.</span> <span class="nav-text">Run-time Constant pool</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Frame"><span class="nav-number">4.</span> <span class="nav-text">Frame</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#local-variables"><span class="nav-number">4.1.</span> <span class="nav-text">local variables</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#operand-stack"><span class="nav-number">4.2.</span> <span class="nav-text">operand stack</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#dynamic-link"><span class="nav-number">4.3.</span> <span class="nav-text">dynamic link</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Class-%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84"><span class="nav-number">5.</span> <span class="nav-text">Class 文件结构</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%90%8E%E8%AE%B0"><span class="nav-number">6.</span> <span class="nav-text">后记</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Dengbojing"
      src="/avatar.jpg">
  <p class="site-author-name" itemprop="name">Dengbojing</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">24</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/dengbojing" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;dengbojing" rel="noopener" target="_blank"><i class="fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/dengbojing@qq.com" title="E-Mail → dengbojing@qq.com"><i class="fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS → &#x2F;atom.xml"><i class="rss fa-fw"></i>RSS</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      友链
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://dengbojing.com/" title="http:&#x2F;&#x2F;dengbojing.com">dengbojing</a>
        </li>
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder"><a href="/">dengbojing</a></span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
